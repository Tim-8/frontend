<div class="nastavnik-forma-container">   
    <p class="subtitle">Podaci o nastavniku</p>
    <form [formGroup]="nastavnikForm" (ngSubmit)="kreirajNastavnika()">

        <div class="form-group">
            <label for="korisnickoIme">Korisničko ime</label>
            <input 
                type="text"
                id="korisnickoIme"
                formControlName="korisnickoIme"
                class="form-control"
                [ngClass]="{'is-invalid': nastavnikForm.get('korisnickoIme')?.invalid && (nastavnikForm.get('korisnickoIme')?.dirty || nastavnikForm.get('korisnickoIme')?.touched)}">
            <div *ngIf="nastavnikForm.get('korisnickoIme')?.invalid && (nastavnikForm.get('korisnickoIme')?.dirty || nastavnikForm.get('korisnickoIme')?.touched)" class="invalid-feedback">
                <div *ngIf="nastavnikForm.get('korisnickoIme')?.errors?.['required']">
                Korisničko ime je obavezno
                </div>
                <div *ngIf="nastavnikForm.get('korisnickoIme')?.errors?.['minlength']">
                Korisničko ime mora imati najmanje 3 karaktera
                </div>
            </div>
        </div>     
    
        <div class="form-group">
            <label for="email">Email adresa</label>
            <input 
            type="email"
            id="email"
            formControlName="email"
            class="form-control"
            [ngClass]="{'is-invalid': nastavnikForm.get('email')?.invalid && (nastavnikForm.get('email')?.dirty || nastavnikForm.get('email')?.touched)}">
            <div *ngIf="nastavnikForm.get('email')?.invalid && (nastavnikForm.get('email')?.dirty || nastavnikForm.get('email')?.touched)" class="invalid-feedback">
            <div *ngIf="nastavnikForm.get('email')?.errors?.['required']">
                Email adresa je obavezna
            </div>
            <div *ngIf="nastavnikForm.get('email')?.errors?.['email']">
                Unesite validnu email adresu
            </div>
            </div>
        </div>

        <div class="form-group">
            <label for="lozinka">Lozinka</label>
            <input 
            type="password"
            id="lozinka"
            formControlName="lozinka"
            class="form-control"
            [ngClass]="{'is-invalid': nastavnikForm.get('lozinka')?.invalid && (nastavnikForm.get('lozinka')?.dirty || nastavnikForm.get('lozinka')?.touched)}">
            <div *ngIf="nastavnikForm.get('lozinka')?.invalid && (nastavnikForm.get('lozinka')?.dirty || nastavnikForm.get('lozinka')?.touched)" class="invalid-feedback">
            <div *ngIf="nastavnikForm.get('lozinka')?.errors?.['required']">
                Lozinka je obavezna
            </div>
            <div *ngIf="nastavnikForm.get('lozinka')?.errors?.['minlength']">
                Lozinka mora imati najmanje 6 karaktera
            </div>
            </div>
        </div>

        <div class="form-group">
            <label for="potvrdaLozinke">Potvrda lozinke</label>
            <input 
                type="password"
                id="potvrdaLozinke"
                formControlName="potvrdaLozinke"
                class="form-control"
                [ngClass]="{'is-invalid': nastavnikForm.get('potvrdaLozinke')?.invalid && (nastavnikForm.get('potvrdaLozinke')?.dirty || nastavnikForm.get('potvrdaLozinke')?.touched)}">
            <div *ngIf="nastavnikForm.get('potvrdaLozinke')?.invalid && (nastavnikForm.get('potvrdaLozinke')?.dirty || nastavnikForm.get('potvrdaLozinke')?.touched)" class="invalid-feedback">
                <div *ngIf="nastavnikForm.get('potvrdaLozinke')?.errors?.['required']">
                Potvrda lozinke je obavezna
                </div>
                <div *ngIf="nastavnikForm.hasError('lozinkeSeNePodudaraju', ['potvrdaLozinke'])">
                Lozinke se ne podudaraju
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="ime">Ime</label>
            <input
                type="text"
                id="ime"
                formControlName="ime"
                class="form-control"
                [ngClass]="{'is-invalid': nastavnikForm.get('ime')?.invalid && (nastavnikForm.get('ime')?.dirty || nastavnikForm.get('ime')?.touched)}">
            <div *ngIf="nastavnikForm.get('ime')?.invalid && (nastavnikForm.get('ime')?.dirty || nastavnikForm.get('ime')?.touched)" class="invalid-feedback">
                <div *ngIf="nastavnikForm.get('ime')?.errors?.['required']">
                    Ime je obavezno
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="jmbg">JMBG</label>
            <input
                type="text"
                id="jmbg"
                formControlName="jmbg"
                class="form-control"
                [ngClass]="{'is-invalid': nastavnikForm.get('jmbg')?.invalid && (nastavnikForm.get('jmbg')?.dirty || nastavnikForm.get('jmbg')?.touched)}">
            <div *ngIf="nastavnikForm.get('jmbg')?.invalid && (nastavnikForm.get('jmbg')?.dirty || nastavnikForm.get('jmbg')?.touched)" class="invalid-feedback">
                <div *ngIf="nastavnikForm.get('jmbg')?.errors?.['required']">JMBG je obavezan</div>
                <div *ngIf="nastavnikForm.get('jmbg')?.errors?.['minlength']">JMBG mora imati 13 cifara</div>
            </div>
        </div>

        <div class="form-group">
            <label for="biografija">Biografija</label>
            <textarea
                id="biografija"
                formControlName="biografija"
                class="form-control"
                rows="3"></textarea>
        </div>
        
        <app-zvanje-forma [zvanjeForm]="zvanjeFormGroup"> </app-zvanje-forma>

        <div class="form-group"> 
            <button type="submit" class="btn" [disabled]="nastavnikForm.invalid">
                Kreiraj
            </button>
        </div>
    </form>
</div>